<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <title>UniHub</title>
  <!-- Fonts and icons -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
  <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <!-- CSS Files -->
  <link id="pagestyle" href="../assets/css/material-kit.css?v=3.0.4" rel="stylesheet" />
  <style>
    /* Make all images in cards rounded */
    .recipe-card img {
      border-radius: 50%;
      width: 100px;
      height: 100px;
      object-fit: cover;
    }

    /* Horizontally scrollable section */
    #recipe-results {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding: 20px;
      gap: 15px;
    }

    #recipe-results::-webkit-scrollbar {
      width: 12px;
      height: 12px;
    }

    #recipe-results::-webkit-scrollbar-thumb {
      background-color: #888;
      border-radius: 10px;
    }

    #recipe-results::-webkit-scrollbar-thumb:hover {
      background-color: #555;
    }

    /* Recipe cards styling */
    .recipe-card {
      flex: 0 0 auto;
      width: 250px;
      text-align: center;
      background-color: #f8f8f8;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 15px;
      scroll-snap-align: center;
    }

    .btn-clear {
      margin-top: 20px;
      display: none; /* Initially hidden */
    }

    .card-title {
      font-size: 1.1rem;
      margin: 15px 0;
    }
  </style>
</head>

<body>
        <!-- Navbar Dark -->
  <!-- Navbar Container -->
  <div id="navbar-container"></div>

  <!-- JavaScript to Load the Navbar -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('includes/navbar.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('navbar-container').innerHTML = data;
        })
        .catch(error => console.error('Error loading navbar:', error));
    });
  </script>
    </nav>
    <!-- End Navbar -->

     <!-- Resources Header -->
<div class="page-header min-vh-50" style="background-image: url('https://hokiewellness.vt.edu/content/hokiewellness_vt_edu/en/index/_jcr_content/cta/adaptiveimage.img.jpg/1628002788431.jpg'); background-size: cover; background-position: center;">
    <span class="mask bg-gradient-dark opacity-6"></span>
    <div class="container">
      <div class="row">
        <div class="col-md-12 mx-auto">
          <div class="text-center">
            <h1 class="text-white">Wellness</h1>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Card Section -->
  <div class="container mt-5">
    <div class="row d-flex align-items-stretch justify-content-center">
      <!--first row-->
        <!-- Card 1: Counseling -->
      <div class="col-lg-6 col-md-6 mb-4">
        <a href="https://ucc.vt.edu/" target="_blank" class="text-decoration-none">
        <div class="card h-100 bg-light text-dark">
          <div class="card-body text-center">
            <i class="material-icons md-48">map</i>
            <h4 class="card-title mt-3">Counseling</h4>
            <p class="card-text">Support for managing stress, anxiety, and emotional well-being</p>
          </div>
        </div>
    </a>
    </div>
      <!-- Card 2: Additional Resources -->
      <div class="col-lg-6 col-md-6 mb-4">
        <a href="add-resources.html" target="_blank" class="text-decoration-none">
        <div class="card bg-light text-dark">
          <div class="card-body text-center">
            <i class="material-icons md-48">local_parking</i>
            <h4 class="card-title mt-3">Additional Resources</h4>
            <p class="card-text">Explore workshops, tools, and support services for your overall wellness.</p>
          </div>
        </div>
    </a>
</div>
  </body>
  <!-- End Card Section -->
   
  
  <!-- Recipe Search Section -->
<div class="container mt-5">
  <h2 class="text-center">Search for Healthy Recipes</h2>
  <div class="row justify-content-center">
    <div class="col-md-6">
      <input type="text" id="recipe-search" class="form-control" placeholder="Search for recipes...">
      <button class="btn btn-primary mt-3 w-100" onclick="searchRecipes()">Search</button>
    </div>
  </div>
  <div id="recipe-results" class="row justify-content-center mt-5"></div>
</div>

<!--end recipe search section-->

  <!--footer-->
  <footer class="footer pt-5 mt-5 text-center">
    <div class="container">
      <p class="text-black">All rights reserved. Copyright Â© <script>document.write(new Date().getFullYear())</script> UniHub</p>
    </div>
  </footer>
  <!--end footer-->

  <!-- Bootstrap and JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>


  <!-- Spoonacular API Script -->
<script>
  const API_KEY = '9d0236ef4d9e4d45a05a9295ccb3cd3a'; 

  function searchRecipes() {
    const query = document.getElementById('recipe-search').value;
    const apiUrl = `https://api.spoonacular.com/recipes/complexSearch?query=${query}&number=5&apiKey=${API_KEY}`;

    fetch(apiUrl)
      .then(response => response.json())
      .then(data => displayRecipes(data.results))
      .catch(error => console.error('Error fetching recipes:', error));
  }

  function displayRecipes(recipes) {
    const resultsContainer = document.getElementById('recipe-results');
    resultsContainer.innerHTML = ''; // Clear previous results

    recipes.forEach(recipe => {
      const recipeCard = `
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card h-100 bg-light text-dark">
            <div class="card-body text-center">
              <h4 class="card-title">${recipe.title}</h4>
              <img src="${recipe.image}" alt="${recipe.title}" class="img-fluid mb-3">
              <a href="https://spoonacular.com/recipes/${recipe.title.replace(/ /g, '-').toLowerCase()}-${recipe.id}" target="_blank" class="btn btn-primary">View Recipe</a>
            </div>
          </div>
        </div>
      `;
      resultsContainer.innerHTML += recipeCard;
    });
  }
  function clearRecipes() {
      document.getElementById('recipe-results').innerHTML = '';
      document.querySelector('.btn-clear').style.display = 'none'; // Hide clear button
      document.getElementById('recipe-search').value = ''; // Reset search input
    }
</script>

</body>
</html>
